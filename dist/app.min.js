"use strict";var topBtn=document.getElementById("to-top");topBtn.addEventListener("click",(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0})),window.addEventListener("scroll",(function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(topBtn.style.opacity=1,topBtn.style.cursor="pointer"):(topBtn.style.opacity=0,topBtn.style.cursor="auto")}));var diagramContainer=document.querySelector(".img-container"),diagrams=document.querySelector(".img-container").children,animNav=document.querySelector(".animation-nav"),buttons=document.querySelector(".animation-nav").children,stepTextContainer=document.querySelector(".text-container"),stepText=document.querySelector(".text-container").children,overviewContainer=document.querySelector(".overview"),overviewImgContainer=document.querySelector(".overview-img-container"),overviewImgsCount=overviewImgContainer.children.length,overviewImgs=overviewImgContainer.children,overviewOpen=document.querySelector(".overview-open"),overviewClose=document.querySelector(".overview-exit"),body=document.getElementsByTagName("BODY"),exitFunc=function exitFunc(){overviewContainer.style.display="none",overviewContainer.style.opacity="0",body[0].style.overflowY="visible"};diagrams.length!==stepText.length&&console.log("WARNING! NOT EVERY IMAGE HAS AN ACCOMPANYING TEXT SECTION");for(var i=0;i<diagrams.length;i++){var button=document.createElement("BUTTON"),buttonText=document.createTextNode(""+(i+1));button.appendChild(buttonText),animNav.appendChild(button)}buttons[0].classList.add("anim-button-clicked"),overviewOpen.addEventListener("click",(function(){overviewContainer.style.display="block",overviewContainer.style.opacity="1",body[0].style.overflowY="hidden"})),overviewClose.addEventListener("click",exitFunc);for(var _i=0;_i<overviewImgsCount;_i++)overviewImgsCount<=4?overviewImgs[_i].classList.add("overview-width-4"):overviewImgsCount>4&&overviewImgsCount<7&&(overviewImgs[_i].classList.add("overview-width-3"),5===overviewImgsCount&&(overviewImgs[3].classList.add("overview-step-3"),overviewImgs[4].classList.add("overview-step-4")));for(var _loop=function _loop(_i2){_i2>0&&(diagramContainer.children[_i2].classList.add("fab-img-toggle"),stepTextContainer.children[_i2].classList.add("fab-text")),buttons[_i2].addEventListener("click",(function(){for(var x=_i2;x<diagramContainer.children.length;x++){diagrams[x].style.opacity="0",diagrams[_i2].style.opacity="1";for(var y=1;y<_i2;y++)diagrams[y].style.opacity="1"}for(var _x=0;_x<diagramContainer.children.length;_x++)stepText[_x].style.display="none",stepText[_i2].style.display="block";for(var _x2=0;_x2<buttons.length;_x2++)buttons[_x2].classList.remove("anim-button-clicked");buttons[_i2].classList.add("anim-button-clicked")}))},_i2=0;_i2<diagramContainer.children.length;_i2++)_loop(_i2);for(var dropBtn=document.querySelectorAll(".dd-btn"),speciesBtn=document.querySelectorAll(".dd-species"),probeBtn=document.querySelectorAll(".dd-probe"),dropClose=document.querySelector(".dd-close"),allDropListItems=document.querySelectorAll(".drop-select"),tableRow=document.getElementById("species-picker").children,antigenA=document.getElementById("antigen-a"),antigenB=document.getElementById("antigen-b"),dropItem=void 0,prevVal=[],speciesTrack=0,antigen=["Antigen A","Antigen B"],textBox=document.querySelectorAll(".antigen-text"),antigenSpan=void 0,_loop2=function _loop2(_i3){textBox[_i3].addEventListener("keyup",(function(){antigenSpan=document.querySelectorAll(".antigen"),""===textBox[_i3].value?(antigen[_i3]=textBox[_i3].placeholder,antigenSpan[_i3].innerText=antigen[_i3]):(antigen[_i3]="","Select"!==dropBtn[0].innerText&&"Select"!==dropBtn[1].innerText&&"antigen-a"===this.id&&(antigenSpan[0].innerText=antigenA.value),textBox[_i3].maxLength!==textBox[_i3].textLength&&"Select"!==dropBtn[0].innerText&&"Select"!==dropBtn[1].innerText&&"Antigen A"===this.name&&changeDetected(tableRow[2].children[1]))}))},_i3=0;_i3<textBox.length;_i3++)_loop2(_i3);function changeDetected(tableCell){tableCell.classList.remove("change-detected"),tableCell.offsetWidth,tableCell.classList.add("change-detected")}for(var _loop3=function _loop3(_i4){dropBtn[_i4].addEventListener("click",(function(){dropBtn[_i4].parentElement.classList.toggle("dd-active");for(var x=0;x<dropBtn.length;x++)x!==_i4&&dropBtn[x].parentElement.classList.remove("dd-active");dropClose.classList.add("dd-close-active")}))},_i4=0;_i4<dropBtn.length;_i4++)_loop3(_i4);dropClose.addEventListener("click",(function(){for(var _i5=0;_i5<dropBtn.length;_i5++)dropBtn[_i5].parentElement.classList.remove("dd-active"),dropClose.classList.remove("dd-close-active")}));for(var _loop4=function _loop4(_i6){dropBtn[_i6].addEventListener("click",(function(){var _this=this;dropItem=this.nextElementSibling.children;for(var _loop5=function _loop5(x){dropItem[x].addEventListener("click",(function(){dropClose.classList.remove("dd-close-active"),antigenSpan=document.querySelectorAll(".antigen"),_this.innerHTML=dropItem[x].innerHTML;for(var y=0;y<dropBtn.length;y++)dropBtn[y].parentElement.classList.remove("dd-active");for(var _y=0;_y<dropItem.length;_y++)dropItem[_y].innerText===prevVal[_i6]&&dropItem[_y].classList.remove("js-hide");if(dropItem[x].classList.add("js-hide"),0===_i6||1===_i6)for(var _y2=0;_y2<dropBtn[2].nextElementSibling.children.length;_y2++)dropBtn[2].nextElementSibling.children[_y2].innerText===prevVal[_i6]&&dropBtn[2].nextElementSibling.children[_y2].classList.remove("js-hide"),dropBtn[2].nextElementSibling.children[_y2].innerText===dropItem[x].innerText&&dropBtn[2].nextElementSibling.children[_y2].classList.add("js-hide");else if(2===_i6)for(var _y3=0;_y3<2;_y3++)for(var z=0;z<dropBtn[_y3].nextElementSibling.children.length;z++)dropBtn[_y3].nextElementSibling.children[z].innerText===prevVal[_i6]&&dropBtn[_y3].nextElementSibling.children[z].classList.remove("js-hide"),dropBtn[_y3].nextElementSibling.children[z].innerText===dropItem[x].innerText&&dropBtn[_y3].nextElementSibling.children[z].classList.add("js-hide");prevVal[_i6]=dropItem[x].innerText,"select"!==dropBtn[1].innerText.toLowerCase()&&(tableRow[0].children[1].children[1].innerText="Samples may express endogenous immunoglobulins, in this example "+dropBtn[1].innerText+" IgG.",tableRow[0].children[1].children[0].classList.add("js-hide"),tableRow[0].children[1].children[1].classList.remove("js-hide"),_this.classList.contains("dd-sample")&&changeDetected(tableRow[0].children[1])),"select"!==dropBtn[1].innerText.toLowerCase()&&"select"!==dropBtn[2].innerText.toLowerCase()&&dropBtn[0].innerText.toLowerCase()===dropBtn[1].innerText.toLowerCase()?(tableRow[1].children[1].children[1].innerText="After blocking with normal "+dropBtn[2].innerText+" serum, incubate with an excess of unconjugated Fab antibody, in this example Fab fragment "+dropBtn[2].innerText+" Anti-"+dropBtn[1].innerText+" IgG (H+L). Wash.",tableRow[1].children[1].children[0].classList.add("js-hide"),tableRow[1].children[1].children[1].classList.remove("js-hide"),(_this.classList.contains("dd-sample")||_this.classList.contains("dd-secondary"))&&changeDetected(tableRow[1].children[1])):"select"!==dropBtn[0].innerText.toLowerCase()&&"select"!==dropBtn[1].innerText.toLowerCase()&&"select"!==dropBtn[2].innerText.toLowerCase()&&dropBtn[0].innerText.toLowerCase()!==dropBtn[1].innerText.toLowerCase()?(tableRow[1].children[1].children[1].innerText="After blocking with normal "+dropBtn[2].innerText+" serum, wash.",tableRow[1].children[1].children[0].classList.add("js-hide"),tableRow[1].children[1].children[1].classList.remove("js-hide"),(_this.classList.contains("dd-sample")||_this.classList.contains("dd-secondary"))&&changeDetected(tableRow[1].children[1])):"select"!==dropBtn[1].innerText.toLowerCase()&&"select"!==dropBtn[2].innerText.toLowerCase()&&"select"===dropBtn[0].innerText.toLowerCase()&&(tableRow[1].children[1].children[1].innerText="After blocking with normal "+dropBtn[2].innerText+" serum, incubate with an excess of unconjugated Fab antibody, in this example Fab fragment "+dropBtn[2].innerText+" Anti-"+dropBtn[1].innerText+" IgG (H+L). Wash.",tableRow[1].children[1].children[0].classList.add("js-hide"),tableRow[1].children[1].children[1].classList.remove("js-hide"),(_this.classList.contains("dd-sample")||_this.classList.contains("dd-secondary"))&&changeDetected(tableRow[1].children[1])),""===textBox[0].value?tableRow[2].children[1].children[1].innerHTML="Incubate with primary antibody, in this example "+dropBtn[0].innerText+' Anti-<span class="antigen">'+textBox[0].placeholder+"</span>. Wash.":tableRow[2].children[1].children[1].innerHTML="Incubate with primary antibody, in this example "+dropBtn[0].innerText+' Anti-<span class="antigen">'+textBox[0].value+"</span>. Wash.","select"!==dropBtn[0].innerText.toLowerCase()&&(tableRow[2].children[1].children[0].classList.add("js-hide"),tableRow[2].children[1].children[1].classList.remove("js-hide"),_this.classList.contains("dd-primary")&&changeDetected(tableRow[2].children[1])),"select"!==dropBtn[1].innerText.toLowerCase()&&"select"!==dropBtn[2].innerText.toLowerCase()&&"select"!==dropBtn[3].innerText.toLowerCase()&&(tableRow[3].children[1].children[1].innerText="Incubate with conjugated secondary antibody, in this example "+dropBtn[3].innerText+"-"+dropBtn[2].innerText+" Anti-"+dropBtn[1].innerText+" IgG (H+L). Wash.",tableRow[3].children[1].children[0].classList.add("js-hide"),tableRow[3].children[1].children[1].classList.remove("js-hide"),(_this.classList.contains("dd-sample")||_this.classList.contains("dd-secondary")||_this.classList.contains("dd-probe-1"))&&changeDetected(tableRow[3].children[1])),speciesTrack=0}))},x=0;x<dropItem.length;x++)_loop5(x)}))},_i6=0;_i6<dropBtn.length;_i6++)_loop4(_i6);